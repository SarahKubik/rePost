var toolbarOptions=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],["link","video"],["clean"]],quill=new Quill("#editor",{modules:{toolbar:toolbarOptions},theme:"snow",placeholder:"Add your thoughts or rePOST..."});async function newFormHandler(a){a.preventDefault();let b=quill.getContents().ops;b=1==b.length&&""==b[0].insert.trim()?null:quill.root.innerHTML;const c=window.location.toString().split("/")[window.location.toString().split("/").length-1],d=await fetch(`/api/posts`,{method:"POST",body:JSON.stringify({content:b,post_id:c}),headers:{"Content-Type":"application/json"}});d.ok?document.location.replace("/"):alert(d.statusText)}document.querySelector("#submit-quill").addEventListener("click",newFormHandler);